/**
* getLocale 取得現在網址代表的語言
*
* @input  {string} window.location.href
* @output {string} locale
*
* 分析 Host 以及附帶的 locale
* example: 'mcs.mediatek.cn'    -> return 'zh-CN'
* example: 'mcs.mediatek.cn/en' -> return 'en'
*
* @author Michael Hsu
*/

'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

exports['default'] = function (href) {
  var i18nLocale = '';

  // parse hostname
  var i18nHost = /\.((cn)|(com)|(io)|(inc))/.exec(href);
  i18nHost = i18nHost && i18nHost[0];

  // set default locale
  switch (i18nHost) {
    case '.cn':
      i18nLocale = 'zh-CN';
      break;

    default:
      i18nLocale = 'en';
      break;
  }

  // parse locale
  var testPath = /\/((zh-TW)|(zh-CN)|(en))/.exec(href);
  i18nLocale = testPath ? testPath[0].replace('/', '') : i18nLocale;

  return i18nLocale;
};

module.exports = exports['default'];